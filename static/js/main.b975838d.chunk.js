(this["webpackJsonpmio-editor"]=this["webpackJsonpmio-editor"]||[]).push([[0],{18:function(e,t,n){e.exports=n(35)},23:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),o=n(10),i=n.n(o),c=(n(23),n(0)),u=n(1),l=n(7),s=n(17),d=n(8),m=function(e){return a.a.createElement("span",Object.assign({},e.attributes,{style:f(e.leaf)}),e.children)},f=function(e){return Object(d.a)({fontWeight:e.bold?"bold":"normal",fontStyle:e.italic?"italic":"normal",fontFamily:e.code?"monospace":"normal",textDecoration:h(e)},p(e))},h=function(e){var t=[];return e.underline&&t.push("underline"),e.strikethrough&&t.push("line-through"),0===t.length?"none":t.join(" ")},p=function(e){return e.code?{fontFamily:e.code?"monospace":"normal",backgroundColor:"#eee",padding:"3px"}:{}},g=function(e){return a.a.createElement(m,e)},b=function(e){return a.a.createElement("pre",e.attributes,a.a.createElement("code",null,e.children))},v=function(e){return a.a.createElement("h2",e.attributes,e.children)},j=function(e){var t=e.attributes,n=e.element,r=e.children,o=Object(l.d)(),i=Object(l.c)();return a.a.createElement("div",t,a.a.createElement("div",{contentEditable:!1},a.a.createElement("img",{src:n.base64,style:E(o,i)})),r)},E=function(e,t){return{display:"block",maxWidth:"100%",maxHeight:"20em",boxShadow:"".concat(e&&t?"0 0 0 3px #B4D5FF":"none")}},y=n(12),O=n.n(y),k=function(e){var t=e.attributes,n=e.element,o=e.children,i=Object(r.useState)(""),u=Object(c.a)(i,2),s=u[0],d=u[1],m=Object(l.d)(),f=Object(l.c)();return Object(r.useEffect)((function(){return d(n.children[0].text||"")})),a.a.createElement("div",Object.assign({},t,{style:{position:"relative"}}),a.a.createElement("div",{style:S(m,f),contentEditable:!1},a.a.createElement(x,{mathString:s})),a.a.createElement("div",{style:M(m,f)},o))},x=function(e){var t=e.mathString,n=""===t?"color(grey)(text(Type an equation below))":t;return a.a.createElement(O.a.Context,{script:"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_SVG",options:w},a.a.createElement("div",null,a.a.createElement(O.a.Node,null,n)))},w={jax:["input/ascii","output/SVG"],showMathMenu:!1},S=function(e,t){var n={inlineSize:"fit-content",margin:"auto",padding:"5px",borderRadius:"10px"};return e&&t?Object(d.a)({boxShadow:"0 0 0 2px #80deea"},n):n},M=function(e,t){var n={position:"absolute",left:"50%",bottom:0,transform:"translate(-50%, 120%)",borderRadius:"10px"};return e&&t?Object(d.a)({background:"#80deea",fontSize:"0.8em",padding:"3px",minWidth:"20px"},n):Object(d.a)({opacity:0},n)},B=function(e){return a.a.createElement("p",e.attributes,e.children)},A=function(e){switch(e.element.type){case"header":return a.a.createElement(v,e);case"code":return a.a.createElement(b,e);case"image":return a.a.createElement(j,e);case"math":return a.a.createElement(k,e);default:return a.a.createElement(B,e)}},N=n(5),C=n(9),D=n.n(C),F={isMarkActive:function(e,t){var n=u.a.nodes(e,{match:function(e){return!0===e[t]},universal:!0});return!!Object(c.a)(n,1)[0]},isLineEmpty:function(e){var t=u.a.nodes(e,{match:function(e){return""===e.text}});return!!Object(c.a)(t,1)[0]},isBlockActive:function(e,t){var n=u.a.nodes(e,{match:function(e){return e.type===t}});return!!Object(c.a)(n,1)[0]},toggleMark:function(e,t){var n=F.isMarkActive(e,t);u.h.setNodes(e,Object(N.a)({},t,!n||null),{match:function(e){return u.g.isText(e)},split:!0})},toggleBlock:function(e,t){var n=F.isBlockActive(e,t);u.h.setNodes(e,{type:n?null:t})},insertImage:function(e,t){u.h.setNodes(e,{type:"image",base64:t})},insertMathBlock:function(e){F.isBlockActive(e,"math")||u.h.setNodes(e,{type:"math"})},onKeyDown:function(e,t){Object.keys(I).some((function(n){if(D()(n,e))return I[n](e,t),!0}))}},I={"mod+h":function(e,t){return R(e,t,"header")},"mod+c":function(e,t){return W(e,t,"code")},"mod+b":function(e,t){return W(e,t,"bold")},"mod+s":function(e,t){return W(e,t,"strikethrough")},"mod+i":function(e,t){return W(e,t,"italic")},"mod+u":function(e,t){return W(e,t,"underline")},"mod+=":function(e,t){return R(e,t,"math")},enter:function(e,t){return J(t)}},J=function(e){F.isBlockActive(e,"math")&&setTimeout((function(){return F.toggleBlock(e,"paragraph")}),0)},R=function(e,t,n){L(e,F.toggleBlock,t,n)},W=function(e,t,n){L(e,F.toggleMark,t,n)},L=function(e,t){e.preventDefault();for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];t.apply(void 0,r)},T=function(e){var t=new FileReader;return new Promise((function(n,r){t.onload=function(){return n(t.result)},t.onerror=function(){return r(t.error)},t.readAsDataURL(e)}))},V=(n(34),[{type:"paragraph",children:[{text:"A line of a paragraph..."}]}]),K=function(){var e=Object(r.useMemo)((function(){return function(e){var t=e.isVoid;return e.isVoid=function(e){return"image"===e.type||t(e)},e}(function(e){return e.isInline=function(e){return["code"].includes(e.type)},e}(Object(s.a)(Object(l.e)(Object(u.i)()))))}),[]),t=Object(r.useRef)(null),n=Object(r.useState)(JSON.parse(localStorage.getItem("content"))||V),o=Object(c.a)(n,2),i=o[0],d=o[1],m=function(e){var t=JSON.stringify(e);localStorage.setItem("content",t),console.log(t)};return a.a.createElement(l.b,{editor:e,value:i,onChange:function(e){d(e),m(e)}},a.a.createElement("input",{id:"file-upload",type:"file",accept:"image/png, image/jpeg",ref:t,onChange:function(t){if(0!==t.target.files.length){var n=t.target.files[0];T(n).then((function(t){return F.insertImage(e,t)}),(function(e){return console.log(e)}))}}}),a.a.createElement("div",{className:"mio-editor"},a.a.createElement(l.a,{renderLeaf:Object(r.useCallback)(g),renderElement:Object(r.useCallback)(A),onKeyDown:function(t){return F.onKeyDown(t,e)},autoFocus:!0,spellCheck:!0})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[18,1,2]]]);
//# sourceMappingURL=main.b975838d.chunk.js.map